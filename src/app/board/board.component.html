<div class="main-board-wrapper">
  <div class="main-board" *ngIf="mainGameData$ | async as gameState">
    <div class="squares">
      <app-square *ngFor="let square of squares; index as i"
                  [isRobotHere]="gameState.robotPosition === i"
                  [isFossilHere]="(fossilPosition$ | async) === i"
                  [robotDirection]="gameState.robotDirection"
                  [robotSprite]="robotSpriteUrl"
                  [fossilSprite]="fossilSpriteUrl">
      </app-square>
    </div>
    <div class="panel-wrapper">
      <div class="time-score-mobile">
        <div>
          <p>Time:</p>
          <p>{{ timeLeft | async | timing }}</p>
        </div>
        <div>
          <p>Score:</p>
          <p>{{ score | async }}</p>
        </div>
      </div>

      <div class="time-panel">
        <p *ngIf="!isGameOn">Time:</p>
        <p>{{ timeLeft | async | timing }}</p>
      </div>

      <app-player-panel [timeLeft]="timeLeft"
                        [isPlaying]="isGameOn"
                        [isGameOver]="isGameOver"

                        (turnedLeft)="onTurnLeft(gameState.robotDirection)" 
                        (moved)="onMove(gameState.robotDirection, gameState.robotPosition)" 
                        (turnedRight)="onTurnRight(gameState.robotDirection)"
                        (started)="start()">
      </app-player-panel>

      <div class="score-panel">
        <p *ngIf="!isGameOn">Score:</p>
        <p>{{ score | async }}</p>
      </div>
    </div>
  </div>
</div>
